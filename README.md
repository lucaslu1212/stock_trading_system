# 股票交易系统

这是一个基于Python开发的股票交易系统，分为客户端（Linux）和服务端（安卓）两个部分，使用默认端口6494进行通信。

## 系统功能

### 后端服务器
- 实现了真实的股票交易流程（买1、卖1等）
- 股票市场模拟，价格会随机波动
- 用户管理（注册、登录）
- 股票管理（添加、删除）
- 交易记录管理
- 持仓管理

### Linux端后台管理
- 网页界面，可添加或删除上市公司
- 可管理用户账户
- 显示股票K线图

### 安卓端
- 用户注册、登录
- 股票列表查看
- 股票买卖操作
- 持仓查看
- 股票K线图查看

## 技术栈

- **后端**：Python 3.x, SQLite
- **Linux端**：Flask, ECharts
- **安卓端**：Kivy（跨平台移动应用框架）

## 安装和运行

### 1. 安装依赖

#### 后端和Linux端
```bash
pip install flask
```

#### 安卓端
```bash
pip install kivy
```

### 2. 启动后端服务器

```bash
cd backend
python server.py
```

### 3. 启动Linux端后台管理

```bash
cd linux_frontend
python app.py
```

然后在浏览器中访问：http://localhost:5000

### 4. 运行安卓端

```bash
cd android_app
python main.py
```

## 数据库结构

- **users**：用户表，存储用户名、密码和余额
- **stocks**：股票表，存储股票代码、公司名称、价格和涨跌幅
- **holdings**：持仓表，存储用户的股票持仓
- **transactions**：交易记录表，存储所有交易记录

## 初始设置

- 每个用户初始资金为20000元
- 股票价格会随机波动（±5%）
- 默认端口为6494

## 使用说明

### Linux端后台管理
1. 登录后台管理网页
2. 在"股票管理"页面添加或删除股票
3. 在"用户管理"页面查看用户信息

### 安卓端
1. 注册新用户或登录现有账户
2. 浏览股票列表，查看股票价格和涨跌幅
3. 点击股票查看K线图
4. 选择股票进行买入或卖出操作
5. 在"持仓"页面查看当前持仓情况

## 注意事项

1. 本系统使用SQLite数据库，数据存储在本地
2. 股票价格波动是模拟的，不反映真实市场情况
3. 安卓端使用Kivy框架，可能需要额外配置才能在真实安卓设备上运行
4. 本系统仅用于学习和演示目的，不用于实际股票交易